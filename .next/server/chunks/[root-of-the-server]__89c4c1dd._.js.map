{"version":3,"sources":["../../../lib/db.ts","../../../node_modules/ms/index.js","../../../lib/auth/jwt.ts","../../../lib/utils/email-templates.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\"\n\nconst globalForPrisma = globalThis as unknown as { prisma?: PrismaClient }\n\nconst dbUrl = process.env.DATABASE_URL_PGBOUNCER || process.env.DATABASE_URL || \"\"\n\nfunction createPrismaOrMock(): PrismaClient | any {\n  if (dbUrl) {\n    return new PrismaClient({\n      datasources: {\n        db: { url: dbUrl },\n      },\n    })\n  }\n  const warn = (op: string) => {\n    throw new Error(`Database unavailable: set DATABASE_URL before calling ${op}`)\n  }\n  return new Proxy(\n    {},\n    {\n      get(_, prop) {\n        if (prop === \"$use\") return () => {}\n        if (prop === \"$transaction\") return () => warn(\"$transaction\")\n        return () => warn(String(prop))\n      },\n    },\n  ) as PrismaClient\n}\n\nexport const prisma = globalForPrisma.prisma || createPrismaOrMock()\n\nif (!globalForPrisma.prisma) globalForPrisma.prisma = prisma\n\nfunction fmtDate(d: Date): string {\n  const y = d.getFullYear()\n  const m = String(d.getMonth() + 1).padStart(2, \"0\")\n  const day = String(d.getDate()).padStart(2, \"0\")\n  return `${y}-${m}-${day}`\n}\n\nfunction fmtTime(d: Date): string {\n  const h = String(d.getHours()).padStart(2, \"0\")\n  const min = String(d.getMinutes()).padStart(2, \"0\")\n  return `${h}:${min}`\n}\n\nconst TARGET_MODELS = new Set([\n  \"User\",\n  \"Contractor\",\n  \"Vendor\",\n  \"Manager\",\n  \"Project\",\n  \"Bid\",\n  \"BidInvitation\",\n  \"ProcurementRequest\",\n  \"EscrowWalletTransaction\",\n  \"FileStorageRecord\",\n  \"PaymentRequest\",\n  \"Milestone\",\n  \"DailyReport\",\n  \"VendorQuote\",\n])\n\nif (typeof (prisma as any).$use === \"function\") (prisma as any).$use(async (params: any, next: any) => {\n  const modelMatches = TARGET_MODELS.has(params.model || \"\")\n  const preventDeletes = String(process.env.ALLOW_DELETE || \"\").toLowerCase() !== \"true\"\n  if (preventDeletes && (params.action === \"delete\" || params.action === \"deleteMany\")) {\n    throw new Error(\"Delete operations are disabled\")\n  }\n\n  if (modelMatches) {\n    const now = new Date()\n    const date = fmtDate(now)\n    const time = fmtTime(now)\n    \n    if (params.action === \"create\") {\n      params.args.data = { ...(params.args.data || {}), recordDate: date, recordTime: time }\n    } else if (params.action === \"createMany\") {\n      const data = params.args.data\n      if (Array.isArray(data)) {\n        params.args.data = data.map((item: any) => ({ ...(item || {}), recordDate: date, recordTime: time }))\n      } else {\n        params.args.data = { ...(data || {}), recordDate: date, recordTime: time }\n      }\n    } else if (params.action === \"update\" || params.action === \"upsert\") {\n      params.args.data = { ...(params.args.data || {}), recordDate: date, recordTime: time }\n    } else if (params.action === \"updateMany\") {\n      const data = params.args.data\n      params.args.data = { ...(data || {}), recordDate: date, recordTime: time }\n    }\n  }\n\n  return next(params)\n})\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","import jwt from \"jsonwebtoken\"\n\ntype Payload = { sub: string; role: \"manager\" | \"contractor\" | \"vendor\" }\n\nexport function signToken(payload: Payload, expiresIn: string = process.env.JWT_EXPIRES_IN || \"1h\") {\n  const secret = process.env.JWT_SECRET || \"\"\n  if (!secret) throw new Error(\"Missing JWT_SECRET\")\n  return jwt.sign(payload, secret as jwt.Secret, { algorithm: \"HS256\", expiresIn } as jwt.SignOptions)\n}\n\nexport function verifyToken(token: string): Payload | null {\n  const secret = process.env.JWT_SECRET || \"\"\n  if (!secret) throw new Error(\"Missing JWT_SECRET\")\n  try {\n    return jwt.verify(token, secret) as Payload\n  } catch {\n    return null\n  }\n}\n","export type EmailContent = { subject: string; html: string; text: string }\nfunction nowTs() { return new Date().toLocaleString() }\nfunction wrap(subject: string, title: string, body: string, preheader?: string) {\n  const ph = preheader || subject\n  return `<!DOCTYPE html><html><body style=\"margin:0;padding:0;background:#f7f7f7;font-family:Inter,Arial,sans-serif;color:#1f2937\"><div style=\"display:none;max-height:0;overflow:hidden\">${ph}</div><table role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" style=\"background:#f7f7f7\"><tr><td align=\"center\" style=\"padding:24px\"><table role=\"presentation\" width=\"600\" cellpadding=\"0\" cellspacing=\"0\" style=\"background:#ffffff;border-radius:12px;border:1px solid #e5e7eb\"><tr><td style=\"padding:24px;border-bottom:1px solid #e5e7eb\"><div style=\"display:flex;align-items:center;gap:8px\"><div style=\"width:32px;height:32px;border-radius:8px;background:#ea580c\"></div><div style=\"font-weight:700;color:#0f172a\">Open-Eye Africa Technologies – O-BIS</div></div></td></tr><tr><td style=\"padding:24px\"><h2 style=\"margin:0 0 8px 0;color:#0f172a\">${title}</h2>${body}<div style=\"margin-top:16px;color:#6b7280;font-size:12px\">Timestamp: ${nowTs()}</div></td></tr><tr><td style=\"padding:16px 24px;border-top:1px solid #e5e7eb;color:#6b7280;font-size:12px\">© ${new Date().getFullYear()} Open-Eye Africa Technologies. All rights reserved.</td></tr></table></td></tr></table></body></html>`\n}\n\nfunction currency(amount: number | string) {\n  const n = Number(amount || 0)\n  try {\n    return new Intl.NumberFormat(\"en-NG\", { style: \"currency\", currency: \"NGN\" }).format(n)\n  } catch {\n    return `₦${n.toFixed(2)}`\n  }\n}\n\nexport function paymentApprovedEmail(params: { recipientName: string; amount: number | string; managerName: string; reference?: string; ctaLink?: string }): EmailContent {\n  const amt = currency(params.amount)\n  const subject = \"Payment Request Approved – Funds Released\"\n  const content = `<p>Dear ${params.recipientName},</p><p>We are pleased to inform you that your payment request for <strong>${amt}</strong> has been <strong>approved</strong> by ${params.managerName}.</p><p>${params.reference ? `Reference: ${params.reference}` : \"\"}</p><p>The approved funds have now been credited to your wallet.</p>${params.ctaLink ? `<p><a href=\"${params.ctaLink}\" style=\"display:inline-block;padding:12px 18px;background:#ea580c;color:#fff;text-decoration:none;border-radius:6px\">View Wallet</a></p>` : \"\"}<p>Best regards,<br>O-BIS Management Team</p>`\n  const html = wrap(subject, \"Payment Approved\", content)\n  const text = `Dear ${params.recipientName},\\nYour payment request for ${amt} has been approved by ${params.managerName} and the funds have been credited to your wallet.\\nBest regards,\\nO-BIS Management Team`\n  return { subject, html, text }\n}\n\nexport function paymentRejectedEmail(params: { recipientName: string; amount: number | string; managerName: string; reason: string; reference?: string }): EmailContent {\n  const amt = currency(params.amount)\n  const subject = \"Payment Request Update – Rejected\"\n  const content = `<p>Dear ${params.recipientName},</p><p>Your payment request for <strong>${amt}</strong> has unfortunately been <strong>rejected</strong> by ${params.managerName}.</p><p>${params.reference ? `Reference: ${params.reference}` : \"\"}</p><p>Reason provided: ${params.reason}</p><p>You may contact your manager if you need further clarification.</p><p>Best regards,<br>O-BIS Management Team</p>`\n  const html = wrap(subject, \"Payment Rejected\", content)\n  const text = `Dear ${params.recipientName},\\nYour payment request for ${amt} has been rejected by ${params.managerName}.\\nReason: ${params.reason}\\nBest regards,\\nO-BIS Management Team`\n  return { subject, html, text }\n}\n\nexport function internalTransferEmail(params: { recipientName: string; amount: number | string; managerName: string; reference?: string; ctaLink?: string }): EmailContent {\n  const amt = currency(params.amount)\n  const subject = \"Funds Transferred to Your Wallet\"\n  const content = `<p>Dear ${params.recipientName},</p><p>This is to notify you that <strong>${amt}</strong> has been transferred to your wallet by ${params.managerName}.</p><p>${params.reference ? `Reference: ${params.reference}` : \"\"}</p><p>You can now view this amount in your wallet balance.</p>${params.ctaLink ? `<p><a href=\"${params.ctaLink}\" style=\"display:inline-block;padding:12px 18px;background:#ea580c;color:#fff;text-decoration:none;border-radius:6px\">View Wallet</a></p>` : \"\"}<p>Best regards,<br>O-BIS Management Team</p>`\n  const html = wrap(subject, \"Wallet Credited\", content)\n  const text = `Dear ${params.recipientName},\\n${amt} has been transferred to your wallet by ${params.managerName}.\\nBest regards,\\nO-BIS Management Team`\n  return { subject, html, text }\n}\n\nexport function adminDepositEmail(params: { managerName: string; amount: number | string; reference?: string; ctaLink?: string }): EmailContent {\n  const amt = currency(params.amount)\n  const subject = \"Virtual Deposit Added to Your Wallet\"\n  const content = `<p>Dear ${params.managerName},</p><p>A virtual deposit of <strong>${amt}</strong> has been added to your wallet for administrative or project allocation purposes.</p><p>${params.reference ? `Reference: ${params.reference}` : \"\"}</p><p>This deposit was issued by the system administrator.</p>${params.ctaLink ? `<p><a href=\"${params.ctaLink}\" style=\"display:inline-block;padding:12px 18px;background:#ea580c;color:#fff;text-decoration:none;border-radius:6px\">View Wallet</a></p>` : \"\"}<p>Best regards,<br>O-BIS Management Team</p>`\n  const html = wrap(subject, \"Wallet Credited\", content)\n  const text = `Dear ${params.managerName},\\nA virtual deposit of ${amt} has been added to your wallet by the system administrator.\\nBest regards,\\nO-BIS Management Team`\n  return { subject, html, text }\n}\n\nexport function shortlistedEmail(params: { contractorName: string; managerName: string; projectName: string; meetingLink: string; bidAmount?: number | string; duration?: number | string }): EmailContent {\n  const amt = params.bidAmount != null ? currency(params.bidAmount) : \"N/A\"\n  const subject = \"You Have Been Shortlisted – Meeting Invitation\"\n  const content = `<p>Dear ${params.contractorName},</p><p>On behalf of ${params.managerName}, we are pleased to notify you that your bid for <strong>${params.projectName}</strong> has been <strong>shortlisted</strong>.</p><p>You are hereby invited to the scheduled meeting.</p><p><strong>Join the meeting:</strong> <a href=\"${params.meetingLink}\">${params.meetingLink}</a></p><p><strong>Bid Amount:</strong> ${amt}<br><strong>Project Duration:</strong> ${params.duration ?? \"N/A\"}</p><p>Best regards,<br>O-BIS Management Team</p>`\n  const html = wrap(subject, \"Shortlisted – Meeting Invitation\", content)\n  const text = `Dear ${params.contractorName},\\nOn behalf of ${params.managerName}, your bid for ${params.projectName} has been shortlisted.\\nJoin meeting: ${params.meetingLink}\\nBid amount: ${amt}\\nDuration: ${params.duration ?? \"N/A\"}\\nBest regards,\\nO-BIS Management Team`\n  return { subject, html, text }\n}\n\nexport function walletDebitedEmail(params: { recipientName: string; amount: number | string; managerName: string; reason?: string; reference?: string }): EmailContent {\n  const amt = currency(params.amount)\n  const subject = \"Wallet Debited – Transfer Processed\"\n  const content = `<p>Dear ${params.recipientName},</p><p>Your wallet has been debited with <strong>${amt}</strong>${params.managerName ? ` by ${params.managerName}` : \"\"}.${params.reason ? ` Reason: ${params.reason}.` : \"\"}</p><p>${params.reference ? `Reference: ${params.reference}` : \"\"}</p><p>If you did not expect this debit, please contact support.</p><p>Best regards,<br>O-BIS Management Team</p>`\n  const html = wrap(subject, \"Wallet Debited\", content)\n  const text = `Dear ${params.recipientName},\\nYour wallet has been debited with ${amt}${params.managerName ? ` by ${params.managerName}` : \"\"}.${params.reason ? ` Reason: ${params.reason}.` : \"\"}\\nBest regards,\\nO-BIS Management Team`\n  return { subject, html, text }\n}\n"],"names":[],"mappings":"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","ignoreList":[1]}