module.exports=[72308,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(50944),f=a.i(40695),g=a.i(3130),h=a.i(5522),i=a.i(17171),j=a.i(46893),k=a.i(30656),l=a.i(7554),m=a.i(70121),n=a.i(50104),o=a.i(25152),p=a.i(7827),q=a.i(77994),r=a.i(3688),s=a.i(30553),t=a.i(37738),u=["PageUp","PageDown"],v=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],w={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},x="Slider",[y,z,A]=(0,t.createCollection)(x),[B,C]=(0,n.createContextScope)(x,[A]),[D,E]=B(x),F=c.forwardRef((a,d)=>{let{name:e,min:f=0,max:g=100,step:h=1,orientation:i="horizontal",disabled:j=!1,minStepsBetweenThumbs:m=0,defaultValue:n=[f],value:p,onValueChange:q=()=>{},onValueCommit:r=()=>{},inverted:s=!1,form:t,...w}=a,x=c.useRef(new Set),z=c.useRef(0),A="horizontal"===i,[B=[],C]=(0,o.useControllableState)({prop:p,defaultProp:n,onChange:a=>{let b=[...x.current];b[z.current]?.focus(),q(a)}}),E=c.useRef(B);function F(a,b,{commit:c}={commit:!1}){let d,e=(String(h).split(".")[1]||"").length,i=Math.round((Math.round((a-f)/h)*h+f)*(d=Math.pow(10,e)))/d,j=(0,k.clamp)(i,[f,g]);C((a=[])=>{let d=function(a=[],b,c){let d=[...a];return d[c]=b,d.sort((a,b)=>a-b)}(a,j,b);if(!function(a,b){if(b>0)return Math.min(...a.slice(0,-1).map((b,c)=>a[c+1]-b))>=b;return!0}(d,m*h))return a;{z.current=d.indexOf(j);let b=String(d)!==String(a);return b&&c&&r(d),b?d:a}})}return(0,b.jsx)(D,{scope:a.__scopeSlider,name:e,disabled:j,min:f,max:g,valueIndexToChangeRef:z,thumbs:x.current,values:B,orientation:i,form:t,children:(0,b.jsx)(y.Provider,{scope:a.__scopeSlider,children:(0,b.jsx)(y.Slot,{scope:a.__scopeSlider,children:(0,b.jsx)(A?I:J,{"aria-disabled":j,"data-disabled":j?"":void 0,...w,ref:d,onPointerDown:(0,l.composeEventHandlers)(w.onPointerDown,()=>{j||(E.current=B)}),min:f,max:g,inverted:s,onSlideStart:j?void 0:function(a){let b=function(a,b){if(1===a.length)return 0;let c=a.map(a=>Math.abs(a-b)),d=Math.min(...c);return c.indexOf(d)}(B,a);F(a,b)},onSlideMove:j?void 0:function(a){F(a,z.current)},onSlideEnd:j?void 0:function(){let a=E.current[z.current];B[z.current]!==a&&r(B)},onHomeKeyDown:()=>!j&&F(f,0,{commit:!0}),onEndKeyDown:()=>!j&&F(g,B.length-1,{commit:!0}),onStepKeyDown:({event:a,direction:b})=>{if(!j){let c=u.includes(a.key)||a.shiftKey&&v.includes(a.key),d=z.current;F(B[d]+h*(c?10:1)*b,d,{commit:!0})}}})})})})});F.displayName=x;var[G,H]=B(x,{startEdge:"left",endEdge:"right",size:"width",direction:1}),I=c.forwardRef((a,d)=>{let{min:e,max:f,dir:g,inverted:h,onSlideStart:i,onSlideMove:j,onSlideEnd:k,onStepKeyDown:l,...n}=a,[o,q]=c.useState(null),r=(0,m.useComposedRefs)(d,a=>q(a)),s=c.useRef(void 0),t=(0,p.useDirection)(g),u="ltr"===t,v=u&&!h||!u&&h;function x(a){let b=s.current||o.getBoundingClientRect(),c=U([0,b.width],v?[e,f]:[f,e]);return s.current=b,c(a-b.left)}return(0,b.jsx)(G,{scope:a.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:(0,b.jsx)(K,{dir:t,"data-orientation":"horizontal",...n,ref:r,style:{...n.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:a=>{let b=x(a.clientX);i?.(b)},onSlideMove:a=>{let b=x(a.clientX);j?.(b)},onSlideEnd:()=>{s.current=void 0,k?.()},onStepKeyDown:a=>{let b=w[v?"from-left":"from-right"].includes(a.key);l?.({event:a,direction:b?-1:1})}})})}),J=c.forwardRef((a,d)=>{let{min:e,max:f,inverted:g,onSlideStart:h,onSlideMove:i,onSlideEnd:j,onStepKeyDown:k,...l}=a,n=c.useRef(null),o=(0,m.useComposedRefs)(d,n),p=c.useRef(void 0),q=!g;function r(a){let b=p.current||n.current.getBoundingClientRect(),c=U([0,b.height],q?[f,e]:[e,f]);return p.current=b,c(a-b.top)}return(0,b.jsx)(G,{scope:a.__scopeSlider,startEdge:q?"bottom":"top",endEdge:q?"top":"bottom",size:"height",direction:q?1:-1,children:(0,b.jsx)(K,{"data-orientation":"vertical",...l,ref:o,style:{...l.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:a=>{let b=r(a.clientY);h?.(b)},onSlideMove:a=>{let b=r(a.clientY);i?.(b)},onSlideEnd:()=>{p.current=void 0,j?.()},onStepKeyDown:a=>{let b=w[q?"from-bottom":"from-top"].includes(a.key);k?.({event:a,direction:b?-1:1})}})})}),K=c.forwardRef((a,c)=>{let{__scopeSlider:d,onSlideStart:e,onSlideMove:f,onSlideEnd:g,onHomeKeyDown:h,onEndKeyDown:i,onStepKeyDown:j,...k}=a,m=E(x,d);return(0,b.jsx)(s.Primitive.span,{...k,ref:c,onKeyDown:(0,l.composeEventHandlers)(a.onKeyDown,a=>{"Home"===a.key?(h(a),a.preventDefault()):"End"===a.key?(i(a),a.preventDefault()):u.concat(v).includes(a.key)&&(j(a),a.preventDefault())}),onPointerDown:(0,l.composeEventHandlers)(a.onPointerDown,a=>{let b=a.target;b.setPointerCapture(a.pointerId),a.preventDefault(),m.thumbs.has(b)?b.focus():e(a)}),onPointerMove:(0,l.composeEventHandlers)(a.onPointerMove,a=>{a.target.hasPointerCapture(a.pointerId)&&f(a)}),onPointerUp:(0,l.composeEventHandlers)(a.onPointerUp,a=>{let b=a.target;b.hasPointerCapture(a.pointerId)&&(b.releasePointerCapture(a.pointerId),g(a))})})}),L="SliderTrack",M=c.forwardRef((a,c)=>{let{__scopeSlider:d,...e}=a,f=E(L,d);return(0,b.jsx)(s.Primitive.span,{"data-disabled":f.disabled?"":void 0,"data-orientation":f.orientation,...e,ref:c})});M.displayName=L;var N="SliderRange",O=c.forwardRef((a,d)=>{let{__scopeSlider:e,...f}=a,g=E(N,e),h=H(N,e),i=c.useRef(null),j=(0,m.useComposedRefs)(d,i),k=g.values.length,l=g.values.map(a=>T(a,g.min,g.max)),n=k>1?Math.min(...l):0,o=100-Math.max(...l);return(0,b.jsx)(s.Primitive.span,{"data-orientation":g.orientation,"data-disabled":g.disabled?"":void 0,...f,ref:j,style:{...a.style,[h.startEdge]:n+"%",[h.endEdge]:o+"%"}})});O.displayName=N;var P="SliderThumb",Q=c.forwardRef((a,d)=>{let e=z(a.__scopeSlider),[f,g]=c.useState(null),h=(0,m.useComposedRefs)(d,a=>g(a)),i=c.useMemo(()=>f?e().findIndex(a=>a.ref.current===f):-1,[e,f]);return(0,b.jsx)(R,{...a,ref:h,index:i})}),R=c.forwardRef((a,d)=>{var e,f,g,h,i;let j,k,{__scopeSlider:n,index:o,name:p,...q}=a,t=E(P,n),u=H(P,n),[v,w]=c.useState(null),x=(0,m.useComposedRefs)(d,a=>w(a)),z=!v||t.form||!!v.closest("form"),A=(0,r.useSize)(v),B=t.values[o],C=void 0===B?0:T(B,t.min,t.max),D=(e=o,(f=t.values.length)>2?`Value ${e+1} of ${f}`:2===f?["Minimum","Maximum"][e]:void 0),F=A?.[u.size],G=F?(g=F,h=C,i=u.direction,k=U([0,50],[0,j=g/2]),(j-k(h)*i)*i):0;return c.useEffect(()=>{if(v)return t.thumbs.add(v),()=>{t.thumbs.delete(v)}},[v,t.thumbs]),(0,b.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${C}% + ${G}px)`},children:[(0,b.jsx)(y.ItemSlot,{scope:a.__scopeSlider,children:(0,b.jsx)(s.Primitive.span,{role:"slider","aria-label":a["aria-label"]||D,"aria-valuemin":t.min,"aria-valuenow":B,"aria-valuemax":t.max,"aria-orientation":t.orientation,"data-orientation":t.orientation,"data-disabled":t.disabled?"":void 0,tabIndex:t.disabled?void 0:0,...q,ref:x,style:void 0===B?{display:"none"}:a.style,onFocus:(0,l.composeEventHandlers)(a.onFocus,()=>{t.valueIndexToChangeRef.current=o})})}),z&&(0,b.jsx)(S,{name:p??(t.name?t.name+(t.values.length>1?"[]":""):void 0),form:t.form,value:B},o)]})});Q.displayName=P;var S=c.forwardRef(({__scopeSlider:a,value:d,...e},f)=>{let g=c.useRef(null),h=(0,m.useComposedRefs)(g,f),i=(0,q.usePrevious)(d);return c.useEffect(()=>{let a=g.current;if(!a)return;let b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(i!==d&&b){let c=new Event("input",{bubbles:!0});b.call(a,d),a.dispatchEvent(c)}},[i,d]),(0,b.jsx)(s.Primitive.input,{style:{display:"none"},...e,ref:h,defaultValue:d})});function T(a,b,c){return(0,k.clamp)(100/(c-b)*(a-b),[0,100])}function U(a,b){return c=>{if(a[0]===a[1]||b[0]===b[1])return b[0];let d=(b[1]-b[0])/(a[1]-a[0]);return b[0]+d*(c-a[0])}}S.displayName="RadioBubbleInput";var V=a.i(97895);function W({className:a,defaultValue:d,value:e,min:f=0,max:g=100,...h}){let i=c.useMemo(()=>Array.isArray(e)?e:Array.isArray(d)?d:[f,g],[e,d,f,g]);return(0,b.jsxs)(F,{"data-slot":"slider",defaultValue:d,value:e,min:f,max:g,className:(0,V.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",a),...h,children:[(0,b.jsx)(M,{"data-slot":"slider-track",className:"bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5",children:(0,b.jsx)(O,{"data-slot":"slider-range",className:"bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full"})}),Array.from({length:i.length},(a,c)=>(0,b.jsx)(Q,{"data-slot":"slider-thumb",className:"border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},c))]})}var X=a.i(77192),Y="Checkbox",[Z,$]=(0,n.createContextScope)(Y),[_,aa]=Z(Y);function ab(a){let{__scopeCheckbox:d,checked:e,children:f,defaultChecked:g,disabled:h,form:i,name:j,onCheckedChange:k,required:l,value:m="on",internal_do_not_use_render:n}=a,[p,q]=(0,o.useControllableState)({prop:e,defaultProp:g??!1,onChange:k,caller:Y}),[r,s]=c.useState(null),[t,u]=c.useState(null),v=c.useRef(!1),w=!r||!!i||!!r.closest("form"),x={checked:p,disabled:h,setChecked:q,control:r,setControl:s,name:j,form:i,value:m,hasConsumerStoppedPropagationRef:v,required:l,defaultChecked:!aj(g)&&g,isFormControl:w,bubbleInput:t,setBubbleInput:u};return(0,b.jsx)(_,{scope:d,...x,children:"function"==typeof n?n(x):f})}var ac="CheckboxTrigger",ad=c.forwardRef(({__scopeCheckbox:a,onKeyDown:d,onClick:e,...f},g)=>{let{control:h,value:i,disabled:j,checked:k,required:n,setControl:o,setChecked:p,hasConsumerStoppedPropagationRef:q,isFormControl:r,bubbleInput:t}=aa(ac,a),u=(0,m.useComposedRefs)(g,o),v=c.useRef(k);return c.useEffect(()=>{let a=h?.form;if(a){let b=()=>p(v.current);return a.addEventListener("reset",b),()=>a.removeEventListener("reset",b)}},[h,p]),(0,b.jsx)(s.Primitive.button,{type:"button",role:"checkbox","aria-checked":aj(k)?"mixed":k,"aria-required":n,"data-state":ak(k),"data-disabled":j?"":void 0,disabled:j,value:i,...f,ref:u,onKeyDown:(0,l.composeEventHandlers)(d,a=>{"Enter"===a.key&&a.preventDefault()}),onClick:(0,l.composeEventHandlers)(e,a=>{p(a=>!!aj(a)||!a),t&&r&&(q.current=a.isPropagationStopped(),q.current||a.stopPropagation())})})});ad.displayName=ac;var ae=c.forwardRef((a,c)=>{let{__scopeCheckbox:d,name:e,checked:f,defaultChecked:g,required:h,disabled:i,value:j,onCheckedChange:k,form:l,...m}=a;return(0,b.jsx)(ab,{__scopeCheckbox:d,checked:f,defaultChecked:g,disabled:i,required:h,onCheckedChange:k,name:e,form:l,value:j,internal_do_not_use_render:({isFormControl:a})=>(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ad,{...m,ref:c,__scopeCheckbox:d}),a&&(0,b.jsx)(ai,{__scopeCheckbox:d})]})})});ae.displayName=Y;var af="CheckboxIndicator",ag=c.forwardRef((a,c)=>{let{__scopeCheckbox:d,forceMount:e,...f}=a,g=aa(af,d);return(0,b.jsx)(X.Presence,{present:e||aj(g.checked)||!0===g.checked,children:(0,b.jsx)(s.Primitive.span,{"data-state":ak(g.checked),"data-disabled":g.disabled?"":void 0,...f,ref:c,style:{pointerEvents:"none",...a.style}})})});ag.displayName=af;var ah="CheckboxBubbleInput",ai=c.forwardRef(({__scopeCheckbox:a,...d},e)=>{let{control:f,hasConsumerStoppedPropagationRef:g,checked:h,defaultChecked:i,required:j,disabled:k,name:l,value:n,form:o,bubbleInput:p,setBubbleInput:t}=aa(ah,a),u=(0,m.useComposedRefs)(e,t),v=(0,q.usePrevious)(h),w=(0,r.useSize)(f);c.useEffect(()=>{if(!p)return;let a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,b=!g.current;if(v!==h&&a){let c=new Event("click",{bubbles:b});p.indeterminate=aj(h),a.call(p,!aj(h)&&h),p.dispatchEvent(c)}},[p,v,h,g]);let x=c.useRef(!aj(h)&&h);return(0,b.jsx)(s.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??x.current,required:j,disabled:k,name:l,value:n,form:o,...d,tabIndex:-1,ref:u,style:{...d.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function aj(a){return"indeterminate"===a}function ak(a){return aj(a)?"indeterminate":a?"checked":"unchecked"}ai.displayName=ah;var al=a.i(6406);function am({className:a,...c}){return(0,b.jsx)(ae,{"data-slot":"checkbox",className:(0,V.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...c,children:(0,b.jsx)(ag,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,b.jsx)(al.CheckIcon,{className:"size-3.5"})})})}var an=a.i(13749),ao=a.i(73320),ap=a.i(33508);function aq(){let a=(0,e.useRouter)(),k=new Date().toISOString().split("T")[0],l=new Date().toLocaleTimeString(),[m,n]=(0,c.useState)({date:k,time:l,activeMilestone:"M2",crew:"",crewChief:"",location:"",area:"",activityDescription:"",quantities:"",progress:75,manpowerCount:"",equipment:"",equipmentHours:"",materialsDelivered:"",materialDetails:"",weatherConditions:"",issues:{delay:!1,safety:!1},delayDetails:"",safetyDetails:"",inspections:"",visitors:"",issueDetails:""}),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(""),w=a=>{n(b=>({...b,[a.target.name]:a.target.value}))},x=a=>{n(b=>({...b,issues:{...b.issues,[a]:!b.issues[a]}}))},y=async b=>{b.preventDefault();try{r(!0),v("");let b=o.map(a=>a.name),c=await fetch("/api/projects/1/daily-reports",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:m.date,time:m.time,crew:m.crew,crewChief:m.crewChief,totalPersonnel:Number(m.manpowerCount||0),workDescription:m.activityDescription,workPercentage:m.progress,safetyIncidents:+!!m.issues.safety,qaIssues:0,attachments:b})});if(!c.ok){let a=await c.json().catch(()=>({}));throw Error(a?.error||"Failed to submit report")}t(!0),setTimeout(()=>{a.push("/contractor/dashboard")},2e3)}catch(a){v(a instanceof Error?a.message:"Failed to submit report")}finally{r(!1)}};return s?(0,b.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:(0,b.jsx)(g.Card,{className:"w-full max-w-md bg-card/80 border-border/50 text-center",children:(0,b.jsxs)(g.CardContent,{className:"pt-12 pb-12 space-y-6",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mx-auto",children:(0,b.jsx)("div",{className:"text-4xl",children:"✓"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.CardTitle,{className:"text-2xl mb-2",children:"Report Submitted Successfully!"}),(0,b.jsx)(g.CardDescription,{className:"text-base",children:"Your daily report has been recorded and submitted for review."})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Redirecting to dashboard..."})]})})}):(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)("header",{className:"border-b border-border bg-card/50 backdrop-blur-sm sticky top-0 z-40",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center gap-4",children:[(0,b.jsx)(d.default,{href:"/contractor/dashboard",children:(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",children:(0,b.jsx)(an.ChevronLeft,{className:"w-5 h-5"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Daily Report"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Log today's progress and activities"})]})]})}),(0,b.jsxs)("main",{className:"max-w-4xl mx-auto px-4 py-8",children:[u&&(0,b.jsx)("div",{className:"mb-6 p-4 bg-destructive/10 border border-destructive/30 rounded-lg",children:(0,b.jsx)("p",{className:"text-sm text-destructive",children:u})}),(0,b.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[(0,b.jsxs)(g.Card,{className:"bg-card/60 border-border/50",children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{className:"text-lg",children:"1. Report Date & Time"}),(0,b.jsx)(g.CardDescription,{children:"Timestamp for historical accuracy"})]}),(0,b.jsx)(g.CardContent,{className:"space-y-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"date",children:"Date *"}),(0,b.jsx)(h.Input,{id:"date",name:"date",type:"date",value:m.date,onChange:w,required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"time",children:"Time *"}),(0,b.jsx)(h.Input,{id:"time",name:"time",type:"time",value:m.time,onChange:w,required:!0})]})]})})]}),(0,b.jsxs)(g.Card,{className:"bg-card/60 border-border/50",children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{className:"text-lg",children:"2. Contractor / Crew Information"}),(0,b.jsx)(g.CardDescription,{children:"Identification of the crew chief and contractor"})]}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"activeMilestone",children:"Active Milestone (Read-only)"}),(0,b.jsx)(h.Input,{id:"activeMilestone",value:m.activeMilestone,disabled:!0,className:"bg-muted"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"M2: Framing & Structural Work"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"crew",children:"Contractor / Company Name *"}),(0,b.jsx)(h.Input,{id:"crew",name:"crew",placeholder:"e.g., ABC Construction Co.",value:m.crew,onChange:w,required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"crewChief",children:"Crew Chief / Reporting Officer *"}),(0,b.jsx)(h.Input,{id:"crewChief",name:"crewChief",placeholder:"e.g., John Doe",value:m.crewChief,onChange:w,required:!0})]})]})]}),(0,b.jsxs)(g.Card,{className:"bg-card/60 border-border/50",children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{className:"text-lg",children:"3. Location & Work Area"}),(0,b.jsx)(g.CardDescription,{children:"Where work was performed today"})]}),(0,b.jsx)(g.CardContent,{className:"space-y-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"location",children:"Location *"}),(0,b.jsx)(h.Input,{id:"location",name:"location",placeholder:"e.g., Downtown",value:m.location,onChange:w,required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"area",children:"Work Area / Zone *"}),(0,b.jsx)(h.Input,{id:"area",name:"area",placeholder:"e.g., Building A, Floor 3",value:m.area,onChange:w,required:!0})]})]})})]}),(0,b.jsxs)(g.Card,{className:"bg-card/60 border-border/50",children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{className:"text-lg",children:"4. Daily Activity Description"}),(0,b.jsx)(g.CardDescription,{children:"Detailed description of work performed"})]}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"activityDescription",children:"Activity Description *"}),(0,b.jsx)(j.Textarea,{id:"activityDescription",name:"activityDescription",placeholder:"Describe today's work activities in detail... (max 500 chars)",value:m.activityDescription,onChange:a=>{a.target.value.length<=500&&w(a)},maxLength:500,className:"min-h-24",required:!0}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[m.activityDescription.length,"/500"]})]}),(0,b.jsxs)("div",{className:"space-y-4 pt-4 border-t border-border",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)(i.Label,{children:"Progress Update for Active Milestone *"}),(0,b.jsxs)("div",{className:"text-2xl font-bold text-primary",children:[m.progress,"%"]})]}),(0,b.jsx)(W,{value:[m.progress],onValueChange:a=>{n(b=>({...b,progress:Math.max(b.progress,a[0])}))},max:100,step:5,className:"w-full"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"Note: Progress can only increase, not decrease"})]})]})]}),(0,b.jsxs)(g.Card,{className:"bg-card/60 border-border/50",children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{className:"text-lg",children:"5. Quantities: Measurable Units of Work"}),(0,b.jsx)(g.CardDescription,{children:"Quantifiable metrics for today's work"})]}),(0,b.jsx)(g.CardContent,{className:"space-y-4",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"quantities",children:"Work Units Completed *"}),(0,b.jsx)(j.Textarea,{id:"quantities",name:"quantities",placeholder:"e.g., Framed 15 wall sections, Installed 8 support beams, Completed 250 sq ft area, 5 tons of concrete poured",value:m.quantities,onChange:w,className:"min-h-20",required:!0})]})})]}),(0,b.jsxs)(g.Card,{className:"bg-card/60 border-border/50",children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{className:"text-lg",children:"6. Manpower & Key Equipment Utilization"}),(0,b.jsx)(g.CardDescription,{children:"Resources deployed today"})]}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"manpowerCount",children:"Manpower Count *"}),(0,b.jsx)(h.Input,{id:"manpowerCount",name:"manpowerCount",type:"number",placeholder:"12",value:m.manpowerCount,onChange:w,required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"equipment",children:"Equipment in Use *"}),(0,b.jsx)(j.Textarea,{id:"equipment",name:"equipment",placeholder:"e.g., Excavator, Crane, Forklift, Concrete Mixer",value:m.equipment,onChange:w,className:"min-h-16",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"equipmentHours",children:"Equipment Operating Hours"}),(0,b.jsx)(h.Input,{id:"equipmentHours",name:"equipmentHours",type:"number",placeholder:"8.5",step:"0.5",value:m.equipmentHours,onChange:w})]})]})]}),(0,b.jsxs)(g.Card,{className:"bg-card/60 border-border/50",children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{className:"text-lg",children:"7. Material Deliveries"}),(0,b.jsx)(g.CardDescription,{children:"Materials received today"})]}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"materialsDelivered",children:"Materials Delivered? *"}),(0,b.jsxs)("select",{name:"materialsDelivered",value:m.materialsDelivered,onChange:a=>n(b=>({...b,materialsDelivered:a.target.value})),className:"w-full px-3 py-2 border border-input rounded-md bg-background text-foreground",children:[(0,b.jsx)("option",{value:"",children:"Select..."}),(0,b.jsx)("option",{value:"yes",children:"Yes"}),(0,b.jsx)("option",{value:"no",children:"No"})]})]}),"yes"===m.materialsDelivered&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"materialDetails",children:"Material Details"}),(0,b.jsx)(j.Textarea,{id:"materialDetails",name:"materialDetails",placeholder:"e.g., Steel beams (50 tons), Concrete (100 cubic yards), Roofing tiles (500 units)",value:m.materialDetails,onChange:w,className:"min-h-16"})]})]})]}),(0,b.jsxs)(g.Card,{className:"bg-card/60 border-border/50",children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{className:"text-lg",children:"8. Weather Conditions"}),(0,b.jsx)(g.CardDescription,{children:"Environmental factors affecting work"})]}),(0,b.jsx)(g.CardContent,{className:"space-y-4",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"weatherConditions",children:"Weather Conditions Today *"}),(0,b.jsx)(j.Textarea,{id:"weatherConditions",name:"weatherConditions",placeholder:"e.g., Sunny, 28°C, Light wind, 0% chance of rain",value:m.weatherConditions,onChange:w,className:"min-h-16",required:!0})]})})]}),(0,b.jsxs)(g.Card,{className:"bg-card/60 border-border/50",children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{className:"text-lg",children:"9. Issues / Risks Encountered"}),(0,b.jsx)(g.CardDescription,{children:"Delays, safety incidents, and other concerns"})]}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(am,{id:"delay",checked:m.issues.delay,onCheckedChange:()=>x("delay")}),(0,b.jsx)(i.Label,{htmlFor:"delay",className:"font-normal cursor-pointer",children:"Delays and Lost Time"})]}),m.issues.delay&&(0,b.jsxs)("div",{className:"ml-6 space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"delayDetails",children:"Delay Details"}),(0,b.jsx)(j.Textarea,{id:"delayDetails",name:"delayDetails",placeholder:"Describe delays, duration, and reason...",value:m.delayDetails,onChange:w,className:"min-h-16"})]})]}),(0,b.jsxs)("div",{className:"space-y-3 pt-4 border-t border-border",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(am,{id:"safety",checked:m.issues.safety,onCheckedChange:()=>x("safety")}),(0,b.jsx)(i.Label,{htmlFor:"safety",className:"font-normal cursor-pointer",children:"Safety Incidents"})]}),m.issues.safety&&(0,b.jsxs)("div",{className:"ml-6 space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"safetyDetails",children:"Safety Incident Details"}),(0,b.jsx)(j.Textarea,{id:"safetyDetails",name:"safetyDetails",placeholder:"Describe incident, severity, and actions taken...",value:m.safetyDetails,onChange:w,className:"min-h-16"})]})]})]})]}),(0,b.jsxs)(g.Card,{className:"bg-card/60 border-border/50",children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{className:"text-lg",children:"10. Inspections & Site Visitors"}),(0,b.jsx)(g.CardDescription,{children:"Any inspections or notable visits today"})]}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"inspections",children:"Site Inspections"}),(0,b.jsx)(j.Textarea,{id:"inspections",name:"inspections",placeholder:"e.g., Quality inspection by ABC Ltd, Passed structural assessment, Pending electrical review",value:m.inspections,onChange:w,className:"min-h-16"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"visitors",children:"Site Visitors"}),(0,b.jsx)(j.Textarea,{id:"visitors",name:"visitors",placeholder:"e.g., Project manager John Doe, Client representative Mary Smith, Subcontractor supervisor",value:m.visitors,onChange:w,className:"min-h-16"})]})]})]}),(0,b.jsxs)(g.Card,{className:"bg-card/60 border-border/50",children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{className:"text-lg",children:"11. Visual Proof"}),(0,b.jsx)(g.CardDescription,{children:"Upload up to 3 photos of today's work (Required)"})]}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[o.length<3&&(0,b.jsxs)("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center hover:border-primary/50 transition-colors",children:[(0,b.jsx)("input",{type:"file",onChange:a=>{if(a.target.files){let b=Array.from(a.target.files);o.length+b.length<=3?p(a=>[...a,...b]):v("Maximum 3 photos allowed")}},className:"hidden",id:"photos",accept:"image/jpeg,image/png",multiple:!0}),(0,b.jsxs)("label",{htmlFor:"photos",className:"cursor-pointer",children:[(0,b.jsx)(ao.Upload,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:"Click to upload photos"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"JPG, PNG (up to 10MB each)"})]})]}),o.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-sm font-semibold mb-3",children:["Uploaded: ",o.length,"/3 photos"]}),(0,b.jsx)("div",{className:"grid grid-cols-3 gap-3",children:o.map((a,c)=>(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)("div",{className:"aspect-square bg-muted rounded-lg overflow-hidden border border-border flex items-center justify-center",children:(0,b.jsx)("p",{className:"text-xs text-muted-foreground text-center px-2",children:a.name})}),(0,b.jsx)("button",{type:"button",onClick:()=>{p(a=>a.filter((a,b)=>b!==c))},className:"absolute top-1 right-1 bg-destructive text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,b.jsx)(ap.X,{className:"w-4 h-4"})})]},c))})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)(d.default,{href:"/contractor/dashboard",className:"flex-1",children:(0,b.jsx)(f.Button,{variant:"outline",className:"w-full bg-transparent",children:"Cancel"})}),(0,b.jsx)(f.Button,{type:"submit",className:"flex-1 bg-primary hover:bg-primary/90",disabled:q||0===o.length,children:q?"Submitting...":"Submit Daily Report"})]})]})]})]})}a.s(["default",()=>aq],72308)}];

//# sourceMappingURL=app_contractor_daily-report_page_tsx_0acf02f6._.js.map