(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86318,e=>{"use strict";var t=e.i(71645);e.i(43476);var r=t.createContext(void 0);function a(e){let a=t.useContext(r);return e||a||"ltr"}e.s(["useDirection",()=>a])},70065,e=>{"use strict";var t=e.i(43476),r=e.i(47163);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function n({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function s({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...a})}function o({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...a})}function i({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>i,"CardDescription",()=>o,"CardHeader",()=>n,"CardTitle",()=>s])},10772,e=>{"use strict";var t=e.i(71645),r=e.i(34620),a=t[" useId ".trim().toString()]||(()=>void 0),n=0;function s(e){let[s,o]=t.useState(a());return(0,r.useLayoutEffect)(()=>{e||o(e=>e??String(n++))},[e]),e||(s?`radix-${s}`:"")}e.s(["useId",()=>s])},27341,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(81140),n=e.i(30030),s=e.i(75830),o=e.i(20783),i=e.i(10772),l=e.i(48425),d=e.i(30207),c=e.i(69340),u=e.i(86318),m="rovingFocusGroup.onEntryFocus",x={bubbles:!1,cancelable:!0},f="RovingFocusGroup",[p,b,g]=(0,s.createCollection)(f),[v,h]=(0,n.createContextScope)(f,[g]),[j,y]=v(f),w=r.forwardRef((e,r)=>(0,t.jsx)(p.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(p.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(N,{...e,ref:r})})}));w.displayName=f;var N=r.forwardRef((e,n)=>{let{__scopeRovingFocusGroup:s,orientation:i,loop:p=!1,dir:g,currentTabStopId:v,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:y,onEntryFocus:w,preventScrollOnEntryFocus:N=!1,...C}=e,T=r.useRef(null),A=(0,o.useComposedRefs)(n,T),k=(0,u.useDirection)(g),[D,R]=(0,c.useControllableState)({prop:v,defaultProp:h??null,onChange:y,caller:f}),[E,S]=r.useState(!1),F=(0,d.useCallbackRef)(w),P=b(s),H=r.useRef(!1),[K,L]=r.useState(0);return r.useEffect(()=>{let e=T.current;if(e)return e.addEventListener(m,F),()=>e.removeEventListener(m,F)},[F]),(0,t.jsx)(j,{scope:s,orientation:i,dir:k,loop:p,currentTabStopId:D,onItemFocus:r.useCallback(e=>R(e),[R]),onItemShiftTab:r.useCallback(()=>S(!0),[]),onFocusableItemAdd:r.useCallback(()=>L(e=>e+1),[]),onFocusableItemRemove:r.useCallback(()=>L(e=>e-1),[]),children:(0,t.jsx)(l.Primitive.div,{tabIndex:E||0===K?-1:0,"data-orientation":i,...C,ref:A,style:{outline:"none",...e.style},onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,()=>{H.current=!0}),onFocus:(0,a.composeEventHandlers)(e.onFocus,e=>{let t=!H.current;if(e.target===e.currentTarget&&t&&!E){let t=new CustomEvent(m,x);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=P().filter(e=>e.focusable);I([e.find(e=>e.active),e.find(e=>e.id===D),...e].filter(Boolean).map(e=>e.ref.current),N)}}H.current=!1}),onBlur:(0,a.composeEventHandlers)(e.onBlur,()=>S(!1))})})}),C="RovingFocusGroupItem",T=r.forwardRef((e,n)=>{let{__scopeRovingFocusGroup:s,focusable:o=!0,active:d=!1,tabStopId:c,children:u,...m}=e,x=(0,i.useId)(),f=c||x,g=y(C,s),v=g.currentTabStopId===f,h=b(s),{onFocusableItemAdd:j,onFocusableItemRemove:w,currentTabStopId:N}=g;return r.useEffect(()=>{if(o)return j(),()=>w()},[o,j,w]),(0,t.jsx)(p.ItemSlot,{scope:s,id:f,focusable:o,active:d,children:(0,t.jsx)(l.Primitive.span,{tabIndex:v?0:-1,"data-orientation":g.orientation,...m,ref:n,onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,e=>{o?g.onItemFocus(f):e.preventDefault()}),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>g.onItemFocus(f)),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void g.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var a;let n=(a=e.key,"rtl"!==r?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(n))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)))return A[n]}(e,g.orientation,g.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let n=h().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)n.reverse();else if("prev"===t||"next"===t){var r,a;"prev"===t&&n.reverse();let s=n.indexOf(e.currentTarget);n=g.loop?(r=n,a=s+1,r.map((e,t)=>r[(a+t)%r.length])):n.slice(s+1)}setTimeout(()=>I(n))}}),children:"function"==typeof u?u({isCurrentTabStop:v,hasTabStop:null!=N}):u})})});T.displayName=C;var A={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function I(e,t=!1){let r=document.activeElement;for(let a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}var k=e.i(96626),D="Tabs",[R,E]=(0,n.createContextScope)(D,[h]),S=h(),[F,P]=R(D),H=r.forwardRef((e,r)=>{let{__scopeTabs:a,value:n,onValueChange:s,defaultValue:o,orientation:d="horizontal",dir:m,activationMode:x="automatic",...f}=e,p=(0,u.useDirection)(m),[b,g]=(0,c.useControllableState)({prop:n,onChange:s,defaultProp:o??"",caller:D});return(0,t.jsx)(F,{scope:a,baseId:(0,i.useId)(),value:b,onValueChange:g,orientation:d,dir:p,activationMode:x,children:(0,t.jsx)(l.Primitive.div,{dir:p,"data-orientation":d,...f,ref:r})})});H.displayName=D;var K="TabsList",L=r.forwardRef((e,r)=>{let{__scopeTabs:a,loop:n=!0,...s}=e,o=P(K,a),i=S(a);return(0,t.jsx)(w,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:(0,t.jsx)(l.Primitive.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:r})})});L.displayName=K;var $="TabsTrigger",q=r.forwardRef((e,r)=>{let{__scopeTabs:n,value:s,disabled:o=!1,...i}=e,d=P($,n),c=S(n),u=B(d.baseId,s),m=G(d.baseId,s),x=s===d.value;return(0,t.jsx)(T,{asChild:!0,...c,focusable:!o,active:x,children:(0,t.jsx)(l.Primitive.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":m,"data-state":x?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:u,...i,ref:r,onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,e=>{o||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(s)}),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(s)}),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==d.activationMode;x||o||!e||d.onValueChange(s)})})})});q.displayName=$;var M="TabsContent",_=r.forwardRef((e,a)=>{let{__scopeTabs:n,value:s,forceMount:o,children:i,...d}=e,c=P(M,n),u=B(c.baseId,s),m=G(c.baseId,s),x=s===c.value,f=r.useRef(x);return r.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(k.Presence,{present:o||x,children:({present:r})=>(0,t.jsx)(l.Primitive.div,{"data-state":x?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!r,id:m,tabIndex:0,...d,ref:a,style:{...e.style,animationDuration:f.current?"0s":void 0},children:r&&i})})});function B(e,t){return`${e}-trigger-${t}`}function G(e,t){return`${e}-content-${t}`}_.displayName=M;var V=e.i(47163);function z({className:e,...r}){return(0,t.jsx)(H,{"data-slot":"tabs",className:(0,V.cn)("flex flex-col gap-2",e),...r})}function U({className:e,...r}){return(0,t.jsx)(L,{"data-slot":"tabs-list",className:(0,V.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...r})}function O({className:e,...r}){return(0,t.jsx)(q,{"data-slot":"tabs-trigger",className:(0,V.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function W({className:e,...r}){return(0,t.jsx)(_,{"data-slot":"tabs-content",className:(0,V.cn)("flex-1 outline-none",e),...r})}e.s(["Tabs",()=>z,"TabsContent",()=>W,"TabsList",()=>U,"TabsTrigger",()=>O],27341)},25063,e=>{"use strict";let t=(0,e.i(75254).default)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);e.s(["ArrowDown",()=>t],25063)},73653,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(70065),n=e.i(27341);let s=(0,e.i(75254).default)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);var o=e.i(25063),i=e.i(91432);function l(e){try{return new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN"}).format(e)}catch{return`â‚¦${e.toFixed(2)}`}}function d(){let{user:e}=(0,i.useAuth)(),[d,c]=(0,r.useState)(0),[u,m]=(0,r.useState)(0),[x,f]=(0,r.useState)([]);return(0,r.useEffect)(()=>{(async()=>{if(!e?.id)return;let t=localStorage.getItem("token")||localStorage.getItem("authToken")||localStorage.getItem("contractorToken")||localStorage.getItem("managerToken")||"",r=t?{Authorization:`Bearer ${t}`}:{},a=await fetch(`/api/wallet/${e.id}`,{headers:r});if(a.ok){let e=await a.json();c(Number(e.balance||0)),m(Number(e.pending||0))}let n=await fetch(`/api/wallet/${e.id}/transactions`,{headers:r});if(n.ok){let e=await n.json();f(Array.isArray(e)?e:[])}})()},[e?.id]),(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,t.jsx)("header",{className:"border-b border-border bg-card/50 backdrop-blur-sm sticky top-0 z-40",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Wallet & Payments"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"View your wallet balance and request payments"})]})}),(0,t.jsxs)("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 mb-8",children:[(0,t.jsxs)(a.Card,{className:"bg-gradient-to-br from-green-500/10 to-green-500/5 border-green-500/20",children:[(0,t.jsx)(a.CardHeader,{className:"pb-3",children:(0,t.jsx)(a.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Available Balance"})}),(0,t.jsxs)(a.CardContent,{children:[(0,t.jsx)("p",{className:"text-3xl font-bold text-green-600",children:l(d)}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Ready to withdraw"})]})]}),(0,t.jsxs)(a.Card,{className:"bg-gradient-to-br from-accent/10 to-accent/5 border-accent/20",children:[(0,t.jsx)(a.CardHeader,{className:"pb-3",children:(0,t.jsx)(a.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Pending Approval"})}),(0,t.jsxs)(a.CardContent,{children:[(0,t.jsx)("p",{className:"text-3xl font-bold text-accent",children:l(u)}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Awaiting manager approval"})]})]}),(0,t.jsxs)(a.Card,{className:"bg-gradient-to-br from-primary/10 to-primary/5 border-primary/20",children:[(0,t.jsx)(a.CardHeader,{className:"pb-3",children:(0,t.jsx)(a.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Total Earned"})}),(0,t.jsxs)(a.CardContent,{children:[(0,t.jsx)("p",{className:"text-3xl font-bold text-primary",children:l(d+u)}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Across all projects"})]})]})]}),(0,t.jsxs)(n.Tabs,{defaultValue:"requests",className:"space-y-6",children:[(0,t.jsxs)(n.TabsList,{children:[(0,t.jsx)(n.TabsTrigger,{value:"requests",children:"Payment Requests"}),(0,t.jsx)(n.TabsTrigger,{value:"transactions",children:"Transaction History"})]}),(0,t.jsx)(n.TabsContent,{value:"requests",className:"space-y-4",children:(0,t.jsx)(a.Card,{className:"bg-card/60 border-border/50",children:(0,t.jsx)(a.CardContent,{className:"pt-6 text-center text-muted-foreground",children:"Payment requests sync with manager approvals"})})}),(0,t.jsx)(n.TabsContent,{value:"transactions",className:"space-y-4",children:x.length>0?x.map(e=>(0,t.jsx)(a.Card,{className:"bg-card/60 border-border/50",children:(0,t.jsx)(a.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex gap-4 flex-1",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-primary/10",children:"received"===e.type?(0,t.jsx)(o.ArrowDown,{className:"w-5 h-5 text-green-600"}):(0,t.jsx)(s,{className:"w-5 h-5 text-blue-600"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-semibold",children:e.description||""}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[e.recordDate," ",e.recordTime]})]})]}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsxs)("p",{className:`text-2xl font-bold ${"received"===e.type?"text-green-600":"text-blue-600"}`,children:["received"===e.type?"+":"-",l(Number(e.amount||0))]})})]})})},e.id)):(0,t.jsx)(a.Card,{className:"bg-card/60 border-border/50",children:(0,t.jsx)(a.CardContent,{className:"pt-6 text-center text-muted-foreground",children:"No transactions yet"})})})]})]})]})}e.s(["default",()=>d],73653)}]);