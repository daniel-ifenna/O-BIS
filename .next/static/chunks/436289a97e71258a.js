(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,97582,e=>{"use strict";var r=e.i(43476),t=e.i(71645),a=e.i(22016),s=e.i(18566),i=e.i(67881),n=e.i(70065),o=e.i(23750),l=e.i(10708),d=e.i(84762),c=e.i(70152),u=e.i(81140),m=e.i(20783),h=e.i(30030),p=e.i(69340),x=e.i(86318),f=e.i(99682),v=e.i(44313),b=e.i(48425),g=e.i(75830),j=["PageUp","PageDown"],y=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],C={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},w="Slider",[N,D,S]=(0,g.createCollection)(w),[k,R]=(0,h.createContextScope)(w,[S]),[P,E]=k(w),T=t.forwardRef((e,a)=>{let{name:s,min:i=0,max:n=100,step:o=1,orientation:l="horizontal",disabled:d=!1,minStepsBetweenThumbs:m=0,defaultValue:h=[i],value:x,onValueChange:f=()=>{},onValueCommit:v=()=>{},inverted:b=!1,form:g,...C}=e,w=t.useRef(new Set),D=t.useRef(0),S="horizontal"===l,[k=[],R]=(0,p.useControllableState)({prop:x,defaultProp:h,onChange:e=>{let r=[...w.current];r[D.current]?.focus(),f(e)}}),E=t.useRef(k);function T(e,r,{commit:t}={commit:!1}){let a,s=(String(o).split(".")[1]||"").length,l=Math.round((Math.round((e-i)/o)*o+i)*(a=Math.pow(10,s)))/a,d=(0,c.clamp)(l,[i,n]);R((e=[])=>{let a=function(e=[],r,t){let a=[...e];return a[t]=r,a.sort((e,r)=>e-r)}(e,d,r);if(!function(e,r){if(r>0)return Math.min(...e.slice(0,-1).map((r,t)=>e[t+1]-r))>=r;return!0}(a,m*o))return e;{D.current=a.indexOf(d);let r=String(a)!==String(e);return r&&t&&v(a),r?a:e}})}return(0,r.jsx)(P,{scope:e.__scopeSlider,name:s,disabled:d,min:i,max:n,valueIndexToChangeRef:D,thumbs:w.current,values:k,orientation:l,form:g,children:(0,r.jsx)(N.Provider,{scope:e.__scopeSlider,children:(0,r.jsx)(N.Slot,{scope:e.__scopeSlider,children:(0,r.jsx)(S?I:q,{"aria-disabled":d,"data-disabled":d?"":void 0,...C,ref:a,onPointerDown:(0,u.composeEventHandlers)(C.onPointerDown,()=>{d||(E.current=k)}),min:i,max:n,inverted:b,onSlideStart:d?void 0:function(e){let r=function(e,r){if(1===e.length)return 0;let t=e.map(e=>Math.abs(e-r)),a=Math.min(...t);return t.indexOf(a)}(k,e);T(e,r)},onSlideMove:d?void 0:function(e){T(e,D.current)},onSlideEnd:d?void 0:function(){let e=E.current[D.current];k[D.current]!==e&&v(k)},onHomeKeyDown:()=>!d&&T(i,0,{commit:!0}),onEndKeyDown:()=>!d&&T(n,k.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:r})=>{if(!d){let t=j.includes(e.key)||e.shiftKey&&y.includes(e.key),a=D.current;T(k[a]+o*(t?10:1)*r,a,{commit:!0})}}})})})})});T.displayName=w;var[L,M]=k(w,{startEdge:"left",endEdge:"right",size:"width",direction:1}),I=t.forwardRef((e,a)=>{let{min:s,max:i,dir:n,inverted:o,onSlideStart:l,onSlideMove:d,onSlideEnd:c,onStepKeyDown:u,...h}=e,[p,f]=t.useState(null),v=(0,m.useComposedRefs)(a,e=>f(e)),b=t.useRef(void 0),g=(0,x.useDirection)(n),j="ltr"===g,y=j&&!o||!j&&o;function w(e){let r=b.current||p.getBoundingClientRect(),t=V([0,r.width],y?[s,i]:[i,s]);return b.current=r,t(e-r.left)}return(0,r.jsx)(L,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:(0,r.jsx)(H,{dir:g,"data-orientation":"horizontal",...h,ref:v,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{let r=w(e.clientX);l?.(r)},onSlideMove:e=>{let r=w(e.clientX);d?.(r)},onSlideEnd:()=>{b.current=void 0,c?.()},onStepKeyDown:e=>{let r=C[y?"from-left":"from-right"].includes(e.key);u?.({event:e,direction:r?-1:1})}})})}),q=t.forwardRef((e,a)=>{let{min:s,max:i,inverted:n,onSlideStart:o,onSlideMove:l,onSlideEnd:d,onStepKeyDown:c,...u}=e,h=t.useRef(null),p=(0,m.useComposedRefs)(a,h),x=t.useRef(void 0),f=!n;function v(e){let r=x.current||h.current.getBoundingClientRect(),t=V([0,r.height],f?[i,s]:[s,i]);return x.current=r,t(e-r.top)}return(0,r.jsx)(L,{scope:e.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:(0,r.jsx)(H,{"data-orientation":"vertical",...u,ref:p,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{let r=v(e.clientY);o?.(r)},onSlideMove:e=>{let r=v(e.clientY);l?.(r)},onSlideEnd:()=>{x.current=void 0,d?.()},onStepKeyDown:e=>{let r=C[f?"from-bottom":"from-top"].includes(e.key);c?.({event:e,direction:r?-1:1})}})})}),H=t.forwardRef((e,t)=>{let{__scopeSlider:a,onSlideStart:s,onSlideMove:i,onSlideEnd:n,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:d,...c}=e,m=E(w,a);return(0,r.jsx)(b.Primitive.span,{...c,ref:t,onKeyDown:(0,u.composeEventHandlers)(e.onKeyDown,e=>{"Home"===e.key?(o(e),e.preventDefault()):"End"===e.key?(l(e),e.preventDefault()):j.concat(y).includes(e.key)&&(d(e),e.preventDefault())}),onPointerDown:(0,u.composeEventHandlers)(e.onPointerDown,e=>{let r=e.target;r.setPointerCapture(e.pointerId),e.preventDefault(),m.thumbs.has(r)?r.focus():s(e)}),onPointerMove:(0,u.composeEventHandlers)(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&i(e)}),onPointerUp:(0,u.composeEventHandlers)(e.onPointerUp,e=>{let r=e.target;r.hasPointerCapture(e.pointerId)&&(r.releasePointerCapture(e.pointerId),n(e))})})}),F="SliderTrack",A=t.forwardRef((e,t)=>{let{__scopeSlider:a,...s}=e,i=E(F,a);return(0,r.jsx)(b.Primitive.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...s,ref:t})});A.displayName=F;var z="SliderRange",_=t.forwardRef((e,a)=>{let{__scopeSlider:s,...i}=e,n=E(z,s),o=M(z,s),l=t.useRef(null),d=(0,m.useComposedRefs)(a,l),c=n.values.length,u=n.values.map(e=>W(e,n.min,n.max)),h=c>1?Math.min(...u):0,p=100-Math.max(...u);return(0,r.jsx)(b.Primitive.span,{"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,...i,ref:d,style:{...e.style,[o.startEdge]:h+"%",[o.endEdge]:p+"%"}})});_.displayName=z;var U="SliderThumb",B=t.forwardRef((e,a)=>{let s=D(e.__scopeSlider),[i,n]=t.useState(null),o=(0,m.useComposedRefs)(a,e=>n(e)),l=t.useMemo(()=>i?s().findIndex(e=>e.ref.current===i):-1,[s,i]);return(0,r.jsx)(O,{...e,ref:o,index:l})}),O=t.forwardRef((e,a)=>{var s,i,n,o,l;let d,c,{__scopeSlider:h,index:p,name:x,...f}=e,g=E(U,h),j=M(U,h),[y,C]=t.useState(null),w=(0,m.useComposedRefs)(a,e=>C(e)),D=!y||g.form||!!y.closest("form"),S=(0,v.useSize)(y),k=g.values[p],R=void 0===k?0:W(k,g.min,g.max),P=(s=p,(i=g.values.length)>2?`Value ${s+1} of ${i}`:2===i?["Minimum","Maximum"][s]:void 0),T=S?.[j.size],L=T?(n=T,o=R,l=j.direction,c=V([0,50],[0,d=n/2]),(d-c(o)*l)*l):0;return t.useEffect(()=>{if(y)return g.thumbs.add(y),()=>{g.thumbs.delete(y)}},[y,g.thumbs]),(0,r.jsxs)("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[j.startEdge]:`calc(${R}% + ${L}px)`},children:[(0,r.jsx)(N.ItemSlot,{scope:e.__scopeSlider,children:(0,r.jsx)(b.Primitive.span,{role:"slider","aria-label":e["aria-label"]||P,"aria-valuemin":g.min,"aria-valuenow":k,"aria-valuemax":g.max,"aria-orientation":g.orientation,"data-orientation":g.orientation,"data-disabled":g.disabled?"":void 0,tabIndex:g.disabled?void 0:0,...f,ref:w,style:void 0===k?{display:"none"}:e.style,onFocus:(0,u.composeEventHandlers)(e.onFocus,()=>{g.valueIndexToChangeRef.current=p})})}),D&&(0,r.jsx)(K,{name:x??(g.name?g.name+(g.values.length>1?"[]":""):void 0),form:g.form,value:k},p)]})});B.displayName=U;var K=t.forwardRef(({__scopeSlider:e,value:a,...s},i)=>{let n=t.useRef(null),o=(0,m.useComposedRefs)(n,i),l=(0,f.usePrevious)(a);return t.useEffect(()=>{let e=n.current;if(!e)return;let r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set;if(l!==a&&r){let t=new Event("input",{bubbles:!0});r.call(e,a),e.dispatchEvent(t)}},[l,a]),(0,r.jsx)(b.Primitive.input,{style:{display:"none"},...s,ref:o,defaultValue:a})});function W(e,r,t){return(0,c.clamp)(100/(t-r)*(e-r),[0,100])}function V(e,r){return t=>{if(e[0]===e[1]||r[0]===r[1])return r[0];let a=(r[1]-r[0])/(e[1]-e[0]);return r[0]+a*(t-e[0])}}K.displayName="RadioBubbleInput";var X=e.i(47163);function Y({className:e,defaultValue:a,value:s,min:i=0,max:n=100,...o}){let l=t.useMemo(()=>Array.isArray(s)?s:Array.isArray(a)?a:[i,n],[s,a,i,n]);return(0,r.jsxs)(T,{"data-slot":"slider",defaultValue:a,value:s,min:i,max:n,className:(0,X.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...o,children:[(0,r.jsx)(A,{"data-slot":"slider-track",className:"bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5",children:(0,r.jsx)(_,{"data-slot":"slider-range",className:"bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full"})}),Array.from({length:l.length},(e,t)=>(0,r.jsx)(B,{"data-slot":"slider-thumb",className:"border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},t))]})}var J=e.i(96626),$="Checkbox",[Q,G]=(0,h.createContextScope)($),[Z,ee]=Q($);function er(e){let{__scopeCheckbox:a,checked:s,children:i,defaultChecked:n,disabled:o,form:l,name:d,onCheckedChange:c,required:u,value:m="on",internal_do_not_use_render:h}=e,[x,f]=(0,p.useControllableState)({prop:s,defaultProp:n??!1,onChange:c,caller:$}),[v,b]=t.useState(null),[g,j]=t.useState(null),y=t.useRef(!1),C=!v||!!l||!!v.closest("form"),w={checked:x,disabled:o,setChecked:f,control:v,setControl:b,name:d,form:l,value:m,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:!ed(n)&&n,isFormControl:C,bubbleInput:g,setBubbleInput:j};return(0,r.jsx)(Z,{scope:a,...w,children:"function"==typeof h?h(w):i})}var et="CheckboxTrigger",ea=t.forwardRef(({__scopeCheckbox:e,onKeyDown:a,onClick:s,...i},n)=>{let{control:o,value:l,disabled:d,checked:c,required:h,setControl:p,setChecked:x,hasConsumerStoppedPropagationRef:f,isFormControl:v,bubbleInput:g}=ee(et,e),j=(0,m.useComposedRefs)(n,p),y=t.useRef(c);return t.useEffect(()=>{let e=o?.form;if(e){let r=()=>x(y.current);return e.addEventListener("reset",r),()=>e.removeEventListener("reset",r)}},[o,x]),(0,r.jsx)(b.Primitive.button,{type:"button",role:"checkbox","aria-checked":ed(c)?"mixed":c,"aria-required":h,"data-state":ec(c),"data-disabled":d?"":void 0,disabled:d,value:l,...i,ref:j,onKeyDown:(0,u.composeEventHandlers)(a,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,u.composeEventHandlers)(s,e=>{x(e=>!!ed(e)||!e),g&&v&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())})})});ea.displayName=et;var es=t.forwardRef((e,t)=>{let{__scopeCheckbox:a,name:s,checked:i,defaultChecked:n,required:o,disabled:l,value:d,onCheckedChange:c,form:u,...m}=e;return(0,r.jsx)(er,{__scopeCheckbox:a,checked:i,defaultChecked:n,disabled:l,required:o,onCheckedChange:c,name:s,form:u,value:d,internal_do_not_use_render:({isFormControl:e})=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ea,{...m,ref:t,__scopeCheckbox:a}),e&&(0,r.jsx)(el,{__scopeCheckbox:a})]})})});es.displayName=$;var ei="CheckboxIndicator",en=t.forwardRef((e,t)=>{let{__scopeCheckbox:a,forceMount:s,...i}=e,n=ee(ei,a);return(0,r.jsx)(J.Presence,{present:s||ed(n.checked)||!0===n.checked,children:(0,r.jsx)(b.Primitive.span,{"data-state":ec(n.checked),"data-disabled":n.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});en.displayName=ei;var eo="CheckboxBubbleInput",el=t.forwardRef(({__scopeCheckbox:e,...a},s)=>{let{control:i,hasConsumerStoppedPropagationRef:n,checked:o,defaultChecked:l,required:d,disabled:c,name:u,value:h,form:p,bubbleInput:x,setBubbleInput:g}=ee(eo,e),j=(0,m.useComposedRefs)(s,g),y=(0,f.usePrevious)(o),C=(0,v.useSize)(i);t.useEffect(()=>{if(!x)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,r=!n.current;if(y!==o&&e){let t=new Event("click",{bubbles:r});x.indeterminate=ed(o),e.call(x,!ed(o)&&o),x.dispatchEvent(t)}},[x,y,o,n]);let w=t.useRef(!ed(o)&&o);return(0,r.jsx)(b.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??w.current,required:d,disabled:c,name:u,value:h,form:p,...a,tabIndex:-1,ref:j,style:{...a.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function ed(e){return"indeterminate"===e}function ec(e){return ed(e)?"indeterminate":e?"checked":"unchecked"}el.displayName=eo;var eu=e.i(78784);function em({className:e,...t}){return(0,r.jsx)(es,{"data-slot":"checkbox",className:(0,X.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,r.jsx)(en,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,r.jsx)(eu.CheckIcon,{className:"size-3.5"})})})}var eh=e.i(73375),ep=e.i(69074),ex=e.i(37727);function ef(){let e=(0,s.useRouter)(),c=new Date().toISOString().split("T")[0],u=new Date().toLocaleTimeString(),[m,h]=(0,t.useState)({date:c,time:u,activeMilestone:"M2",crew:"",crewChief:"",location:"",area:"",activityDescription:"",quantities:"",progress:75,manpowerCount:"",equipment:"",equipmentHours:"",materialsDelivered:"",materialDetails:"",weatherConditions:"",issues:{delay:!1,safety:!1},delayDetails:"",safetyDetails:"",inspections:"",visitors:"",issueDetails:""}),[p,x]=(0,t.useState)([]),[f,v]=(0,t.useState)(!1),[b,g]=(0,t.useState)(!1),[j,y]=(0,t.useState)(""),C=e=>{h(r=>({...r,[e.target.name]:e.target.value}))},w=e=>{h(r=>({...r,issues:{...r.issues,[e]:!r.issues[e]}}))},N=async r=>{r.preventDefault();try{v(!0),y("");let r=p.map(e=>e.name),t=await fetch("/api/projects/1/daily-reports",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:m.date,time:m.time,crew:m.crew,crewChief:m.crewChief,totalPersonnel:Number(m.manpowerCount||0),workDescription:m.activityDescription,workPercentage:m.progress,safetyIncidents:+!!m.issues.safety,qaIssues:0,attachments:r})});if(!t.ok){let e=await t.json().catch(()=>({}));throw Error(e?.error||"Failed to submit report")}g(!0),setTimeout(()=>{e.push("/contractor/dashboard")},2e3)}catch(e){y(e instanceof Error?e.message:"Failed to submit report")}finally{v(!1)}};return b?(0,r.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:(0,r.jsx)(n.Card,{className:"w-full max-w-md bg-card/80 border-border/50 text-center",children:(0,r.jsxs)(n.CardContent,{className:"pt-12 pb-12 space-y-6",children:[(0,r.jsx)("div",{className:"w-16 h-16 rounded-full bg-green-100 flex items-center justify-center mx-auto",children:(0,r.jsx)("div",{className:"text-4xl",children:"✓"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(n.CardTitle,{className:"text-2xl mb-2",children:"Report Submitted Successfully!"}),(0,r.jsx)(n.CardDescription,{className:"text-base",children:"Your daily report has been recorded and submitted for review."})]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Redirecting to dashboard..."})]})})}):(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,r.jsx)("header",{className:"border-b border-border bg-card/50 backdrop-blur-sm sticky top-0 z-40",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center gap-4",children:[(0,r.jsx)(a.default,{href:"/contractor/dashboard",children:(0,r.jsx)(i.Button,{variant:"ghost",size:"icon",children:(0,r.jsx)(eh.ChevronLeft,{className:"w-5 h-5"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Daily Report"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Log today's progress and activities"})]})]})}),(0,r.jsxs)("main",{className:"max-w-4xl mx-auto px-4 py-8",children:[j&&(0,r.jsx)("div",{className:"mb-6 p-4 bg-destructive/10 border border-destructive/30 rounded-lg",children:(0,r.jsx)("p",{className:"text-sm text-destructive",children:j})}),(0,r.jsxs)("form",{onSubmit:N,className:"space-y-6",children:[(0,r.jsxs)(n.Card,{className:"bg-card/60 border-border/50",children:[(0,r.jsxs)(n.CardHeader,{children:[(0,r.jsx)(n.CardTitle,{className:"text-lg",children:"1. Report Date & Time"}),(0,r.jsx)(n.CardDescription,{children:"Timestamp for historical accuracy"})]}),(0,r.jsx)(n.CardContent,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.Label,{htmlFor:"date",children:"Date *"}),(0,r.jsx)(o.Input,{id:"date",name:"date",type:"date",value:m.date,onChange:C,required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.Label,{htmlFor:"time",children:"Time *"}),(0,r.jsx)(o.Input,{id:"time",name:"time",type:"time",value:m.time,onChange:C,required:!0})]})]})})]}),(0,r.jsxs)(n.Card,{className:"bg-card/60 border-border/50",children:[(0,r.jsxs)(n.CardHeader,{children:[(0,r.jsx)(n.CardTitle,{className:"text-lg",children:"2. Contractor / Crew Information"}),(0,r.jsx)(n.CardDescription,{children:"Identification of the crew chief and contractor"})]}),(0,r.jsxs)(n.CardContent,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.Label,{htmlFor:"activeMilestone",children:"Active Milestone (Read-only)"}),(0,r.jsx)(o.Input,{id:"activeMilestone",value:m.activeMilestone,disabled:!0,className:"bg-muted"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"M2: Framing & Structural Work"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.Label,{htmlFor:"crew",children:"Contractor / Company Name *"}),(0,r.jsx)(o.Input,{id:"crew",name:"crew",placeholder:"e.g., ABC Construction Co.",value:m.crew,onChange:C,required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.Label,{htmlFor:"crewChief",children:"Crew Chief / Reporting Officer *"}),(0,r.jsx)(o.Input,{id:"crewChief",name:"crewChief",placeholder:"e.g., John Doe",value:m.crewChief,onChange:C,required:!0})]})]})]}),(0,r.jsxs)(n.Card,{className:"bg-card/60 border-border/50",children:[(0,r.jsxs)(n.CardHeader,{children:[(0,r.jsx)(n.CardTitle,{className:"text-lg",children:"3. Location & Work Area"}),(0,r.jsx)(n.CardDescription,{children:"Where work was performed today"})]}),(0,r.jsx)(n.CardContent,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.Label,{htmlFor:"location",children:"Location *"}),(0,r.jsx)(o.Input,{id:"location",name:"location",placeholder:"e.g., Downtown",value:m.location,onChange:C,required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.Label,{htmlFor:"area",children:"Work Area / Zone *"}),(0,r.jsx)(o.Input,{id:"area",name:"area",placeholder:"e.g., Building A, Floor 3",value:m.area,onChange:C,required:!0})]})]})})]}),(0,r.jsxs)(n.Card,{className:"bg-card/60 border-border/50",children:[(0,r.jsxs)(n.CardHeader,{children:[(0,r.jsx)(n.CardTitle,{className:"text-lg",children:"4. Daily Activity Description"}),(0,r.jsx)(n.CardDescription,{children:"Detailed description of work performed"})]}),(0,r.jsxs)(n.CardContent,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.Label,{htmlFor:"activityDescription",children:"Activity Description *"}),(0,r.jsx)(d.Textarea,{id:"activityDescription",name:"activityDescription",placeholder:"Describe today's work activities in detail... (max 500 chars)",value:m.activityDescription,onChange:e=>{e.target.value.length<=500&&C(e)},maxLength:500,className:"min-h-24",required:!0}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:[m.activityDescription.length,"/500"]})]}),(0,r.jsxs)("div",{className:"space-y-4 pt-4 border-t border-border",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)(l.Label,{children:"Progress Update for Active Milestone *"}),(0,r.jsxs)("div",{className:"text-2xl font-bold text-primary",children:[m.progress,"%"]})]}),(0,r.jsx)(Y,{value:[m.progress],onValueChange:e=>{h(r=>({...r,progress:Math.max(r.progress,e[0])}))},max:100,step:5,className:"w-full"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"Note: Progress can only increase, not decrease"})]})]})]}),(0,r.jsxs)(n.Card,{className:"bg-card/60 border-border/50",children:[(0,r.jsxs)(n.CardHeader,{children:[(0,r.jsx)(n.CardTitle,{className:"text-lg",children:"5. Quantities: Measurable Units of Work"}),(0,r.jsx)(n.CardDescription,{children:"Quantifiable metrics for today's work"})]}),(0,r.jsx)(n.CardContent,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.Label,{htmlFor:"quantities",children:"Work Units Completed *"}),(0,r.jsx)(d.Textarea,{id:"quantities",name:"quantities",placeholder:"e.g., Framed 15 wall sections, Installed 8 support beams, Completed 250 sq ft area, 5 tons of concrete poured",value:m.quantities,onChange:C,className:"min-h-20",required:!0})]})})]}),(0,r.jsxs)(n.Card,{className:"bg-card/60 border-border/50",children:[(0,r.jsxs)(n.CardHeader,{children:[(0,r.jsx)(n.CardTitle,{className:"text-lg",children:"6. Manpower & Key Equipment Utilization"}),(0,r.jsx)(n.CardDescription,{children:"Resources deployed today"})]}),(0,r.jsxs)(n.CardContent,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.Label,{htmlFor:"manpowerCount",children:"Manpower Count *"}),(0,r.jsx)(o.Input,{id:"manpowerCount",name:"manpowerCount",type:"number",placeholder:"12",value:m.manpowerCount,onChange:C,required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.Label,{htmlFor:"equipment",children:"Equipment in Use *"}),(0,r.jsx)(d.Textarea,{id:"equipment",name:"equipment",placeholder:"e.g., Excavator, Crane, Forklift, Concrete Mixer",value:m.equipment,onChange:C,className:"min-h-16",required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.Label,{htmlFor:"equipmentHours",children:"Equipment Operating Hours"}),(0,r.jsx)(o.Input,{id:"equipmentHours",name:"equipmentHours",type:"number",placeholder:"8.5",step:"0.5",value:m.equipmentHours,onChange:C})]})]})]}),(0,r.jsxs)(n.Card,{className:"bg-card/60 border-border/50",children:[(0,r.jsxs)(n.CardHeader,{children:[(0,r.jsx)(n.CardTitle,{className:"text-lg",children:"7. Material Deliveries"}),(0,r.jsx)(n.CardDescription,{children:"Materials received today"})]}),(0,r.jsxs)(n.CardContent,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.Label,{htmlFor:"materialsDelivered",children:"Materials Delivered? *"}),(0,r.jsxs)("select",{name:"materialsDelivered",value:m.materialsDelivered,onChange:e=>h(r=>({...r,materialsDelivered:e.target.value})),className:"w-full px-3 py-2 border border-input rounded-md bg-background text-foreground",children:[(0,r.jsx)("option",{value:"",children:"Select..."}),(0,r.jsx)("option",{value:"yes",children:"Yes"}),(0,r.jsx)("option",{value:"no",children:"No"})]})]}),"yes"===m.materialsDelivered&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.Label,{htmlFor:"materialDetails",children:"Material Details"}),(0,r.jsx)(d.Textarea,{id:"materialDetails",name:"materialDetails",placeholder:"e.g., Steel beams (50 tons), Concrete (100 cubic yards), Roofing tiles (500 units)",value:m.materialDetails,onChange:C,className:"min-h-16"})]})]})]}),(0,r.jsxs)(n.Card,{className:"bg-card/60 border-border/50",children:[(0,r.jsxs)(n.CardHeader,{children:[(0,r.jsx)(n.CardTitle,{className:"text-lg",children:"8. Weather Conditions"}),(0,r.jsx)(n.CardDescription,{children:"Environmental factors affecting work"})]}),(0,r.jsx)(n.CardContent,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.Label,{htmlFor:"weatherConditions",children:"Weather Conditions Today *"}),(0,r.jsx)(d.Textarea,{id:"weatherConditions",name:"weatherConditions",placeholder:"e.g., Sunny, 28°C, Light wind, 0% chance of rain",value:m.weatherConditions,onChange:C,className:"min-h-16",required:!0})]})})]}),(0,r.jsxs)(n.Card,{className:"bg-card/60 border-border/50",children:[(0,r.jsxs)(n.CardHeader,{children:[(0,r.jsx)(n.CardTitle,{className:"text-lg",children:"9. Issues / Risks Encountered"}),(0,r.jsx)(n.CardDescription,{children:"Delays, safety incidents, and other concerns"})]}),(0,r.jsxs)(n.CardContent,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(em,{id:"delay",checked:m.issues.delay,onCheckedChange:()=>w("delay")}),(0,r.jsx)(l.Label,{htmlFor:"delay",className:"font-normal cursor-pointer",children:"Delays and Lost Time"})]}),m.issues.delay&&(0,r.jsxs)("div",{className:"ml-6 space-y-2",children:[(0,r.jsx)(l.Label,{htmlFor:"delayDetails",children:"Delay Details"}),(0,r.jsx)(d.Textarea,{id:"delayDetails",name:"delayDetails",placeholder:"Describe delays, duration, and reason...",value:m.delayDetails,onChange:C,className:"min-h-16"})]})]}),(0,r.jsxs)("div",{className:"space-y-3 pt-4 border-t border-border",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(em,{id:"safety",checked:m.issues.safety,onCheckedChange:()=>w("safety")}),(0,r.jsx)(l.Label,{htmlFor:"safety",className:"font-normal cursor-pointer",children:"Safety Incidents"})]}),m.issues.safety&&(0,r.jsxs)("div",{className:"ml-6 space-y-2",children:[(0,r.jsx)(l.Label,{htmlFor:"safetyDetails",children:"Safety Incident Details"}),(0,r.jsx)(d.Textarea,{id:"safetyDetails",name:"safetyDetails",placeholder:"Describe incident, severity, and actions taken...",value:m.safetyDetails,onChange:C,className:"min-h-16"})]})]})]})]}),(0,r.jsxs)(n.Card,{className:"bg-card/60 border-border/50",children:[(0,r.jsxs)(n.CardHeader,{children:[(0,r.jsx)(n.CardTitle,{className:"text-lg",children:"10. Inspections & Site Visitors"}),(0,r.jsx)(n.CardDescription,{children:"Any inspections or notable visits today"})]}),(0,r.jsxs)(n.CardContent,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.Label,{htmlFor:"inspections",children:"Site Inspections"}),(0,r.jsx)(d.Textarea,{id:"inspections",name:"inspections",placeholder:"e.g., Quality inspection by ABC Ltd, Passed structural assessment, Pending electrical review",value:m.inspections,onChange:C,className:"min-h-16"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.Label,{htmlFor:"visitors",children:"Site Visitors"}),(0,r.jsx)(d.Textarea,{id:"visitors",name:"visitors",placeholder:"e.g., Project manager John Doe, Client representative Mary Smith, Subcontractor supervisor",value:m.visitors,onChange:C,className:"min-h-16"})]})]})]}),(0,r.jsxs)(n.Card,{className:"bg-card/60 border-border/50",children:[(0,r.jsxs)(n.CardHeader,{children:[(0,r.jsx)(n.CardTitle,{className:"text-lg",children:"11. Visual Proof"}),(0,r.jsx)(n.CardDescription,{children:"Upload up to 3 photos of today's work (Required)"})]}),(0,r.jsxs)(n.CardContent,{className:"space-y-4",children:[p.length<3&&(0,r.jsxs)("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center hover:border-primary/50 transition-colors",children:[(0,r.jsx)("input",{type:"file",onChange:e=>{if(e.target.files){let r=Array.from(e.target.files);p.length+r.length<=3?x(e=>[...e,...r]):y("Maximum 3 photos allowed")}},className:"hidden",id:"photos",accept:"image/jpeg,image/png",multiple:!0}),(0,r.jsxs)("label",{htmlFor:"photos",className:"cursor-pointer",children:[(0,r.jsx)(ep.Upload,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground"}),(0,r.jsx)("p",{className:"text-sm font-medium",children:"Click to upload photos"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"JPG, PNG (up to 10MB each)"})]})]}),p.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-sm font-semibold mb-3",children:["Uploaded: ",p.length,"/3 photos"]}),(0,r.jsx)("div",{className:"grid grid-cols-3 gap-3",children:p.map((e,t)=>(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsx)("div",{className:"aspect-square bg-muted rounded-lg overflow-hidden border border-border flex items-center justify-center",children:(0,r.jsx)("p",{className:"text-xs text-muted-foreground text-center px-2",children:e.name})}),(0,r.jsx)("button",{type:"button",onClick:()=>{x(e=>e.filter((e,r)=>r!==t))},className:"absolute top-1 right-1 bg-destructive text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,r.jsx)(ex.X,{className:"w-4 h-4"})})]},t))})]})]})]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)(a.default,{href:"/contractor/dashboard",className:"flex-1",children:(0,r.jsx)(i.Button,{variant:"outline",className:"w-full bg-transparent",children:"Cancel"})}),(0,r.jsx)(i.Button,{type:"submit",className:"flex-1 bg-primary hover:bg-primary/90",disabled:f||0===p.length,children:f?"Submitting...":"Submit Daily Report"})]})]})]})]})}e.s(["default",()=>ef],97582)}]);